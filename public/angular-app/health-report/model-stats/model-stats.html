<div class="container-fluid">
    <div class="row">
        <div class="panel-group">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">Links Health Score:</h4>
                </div>
                <div class="panel-collapse">
                    <div class="panel-body">
                        <div class="col-md-3">
                            <d3-circle data="vm.ModelData.scoreData" class="cn"></d3-circle>
                        </div>
                        <div class="col-md-4">
                            <div class="small">
                                <p>
                                    {{vm.ModelData.description}}
                                </p>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div id="menu">
                                <div class="panel list-group">
                                    <a href="" class="list-group-item" data-toggle="collapse" data-target="#sm" data-parent="#menu">
                                        Model Size
                                        <span class="badge">{{vm.ModelData.modelSize}}</span>
                                    </a>
                                    <div id="sm" class="sublinks collapse">
                                        <div class="list-group-item small">
                                            It's best practice to keep the model size under 200MB. It helps preserve your hardware resources, and potentially increse model
                                            open and synch times. Model Size is often a good indicator of potential modeling issues. Use of imported objects like DWG or STL
                                            often bloats model size giving Model Managers clues about potential issues.
                                        </div>
                                    </div>
                                    <a href="" class="list-group-item" data-toggle="collapse" data-target="#sl" data-parent="#menu">
                                        Average Open Time
                                        <span class="badge">{{vm.ModelData.averageOpenTime}}</span>
                                    </a>
                                    <div id="sl" class="sublinks collapse">
                                        <div class="list-group-item small">
                                            This is not a measure of model health, but rather a glance at potential user "discomfort". Users tend to get frustrated at time lost,
                                            while waiting for the model to open. If we can minimize that time, they will be able to spend it doing more meaningful things, than
                                            waiting for Revit to open. Potential ways to speed up the model opening time, is to minimize amount of plug-ins that are being loaded at startup.
                                        </div>
                                    </div>
                                    <a href="" class="list-group-item" data-toggle="collapse" data-target="#s2" data-parent="#menu">
                                        Average Synch Time
                                        <span class="badge">{{vm.ModelData.averageSynchTime}}</span>
                                    </a>
                                    <div id="s2" class="sublinks collapse">
                                        <div class="list-group-item small">
                                            This is not a measure of model health, but rather a glance at potential user "discomfort". Users tend to get frustrated at time lost,
                                            while waiting for the model to synch. Synch time can be decresed by reducing number of warnings in the model, model size, number of links etc.
                                            All of these things contribute to time that is being needed by Revit to reconsile all of the changes. Another quick way to minimize synch time,
                                            is to Reload Latest before Synchronizing.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="panel-group">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="btn-group btn-group-xs pull-right" role="group" aria-hidden="true">
                        <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false" aria-haspopup="true">
                            {{vm.selectedOpenUser}}
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right scrollable-menu" style="min-width: 50px">
                            <li ng-repeat="user in vm.OpenUsers">
                                <a href="" ng-click="vm.setUserFilter(user, 'openTimes')">{{user}}</a>
                            </li>
                        </ul>
                    </div>
                    <h4 class="panel-title" style="padding-top: 5px;">Model Open Time</h4>
                </div>
                <div class="panel-collapse">
                    <div class="panel-body no-padding">
                        <d3-zoomable-line data="vm.ModelOpenTimes" format-value="vm.formatDuration(item)"></d3-zoomable-line>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="panel-group">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="btn-group btn-group-xs pull-right" role="group" aria-hidden="true">
                        <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false" aria-haspopup="true">
                            {{vm.selectedSynchUser}}
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right scrollable-menu" style="min-width: 50px">
                            <li ng-repeat="user in vm.SynchUsers">
                                <a href="" ng-click="vm.setUserFilter(user, 'synchTimes')">{{user}}</a>
                            </li>
                        </ul>
                    </div>
                    <h4 class="panel-title">Model Synch Time</h4>
                </div>
                <div class="panel-collapse">
                    <div class="panel-body no-padding">
                        <d3-zoomable-line data="vm.ModelSynchTimes" format-value="vm.formatDuration(item)"></d3-zoomable-line>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="panel-group">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="btn-group btn-group-xs pull-right" role="group" aria-hidden="true">
                        <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false" aria-haspopup="true">
                            {{vm.selectedTableData}}
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right scrollable-menu" style="min-width: 50px">
                            <li ng-repeat="type in vm.TableDataTypes">
                                <a href="" ng-click="vm.setTableDataType(type)">{{type}}</a>
                            </li>
                        </ul>
                    </div>
                    <h4 class="panel-title" style="padding-top: 5px;">Model {{vm.selectedTableData}} Time / Worksets Opened %</h4>
                </div>
                <div class="panel-collapse">
                    <div class="panel-body">
                        <table id="table1" datatable="ng" dt-options="vm.dtOptions" dt-column-defs="vm.dtColumnDefs" class="table table-hover table-condensed datatable">
                            <thead>
                            <tr>
                                <th class="col-md-3">Date/Time</th>
                                <th class="col-md-5">User</th>
                                <th class="col-md-2 text-center">Duration</th>
                                <th>Open Time ms</th>
                                <th class="col-md-2 text-center">Worksets</th>
                                <th>Worksets %</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="i in vm.tableData | orderBy : vm.sortDate : false">
                                <td>{{i.createdOn | date:"MM/dd/yy hh:mm"}}</td>
                                <td>{{i.user}}</td>
                                <td class="text-center">{{vm.formatDuration(i.value)}}</td>
                                <td>{{i.value}}</td>
                                <td class="text-center">{{i.worksets}}</td>
                                <td>{{i.worksetPercentage}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="panel-group" id="p3">
            <div class="panel panel-default">
                <div class="panel-heading panel-heading-clickable" data-toggle="collapse" data-parent="#p3" data-target="#collapseP3">
                    <h4 class="panel-title">Model Size</h4>
                </div>
                <div id="collapseP3" class="panel-collapse collapse in">
                    <div class="panel-body no-padding">
                        <d3-zoomable-line data="vm.ModelSizes" format-value="vm.formatValue(item)"></d3-zoomable-line>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>