<div class="container-fluid">
    <div class="row animate-show-hide ng-hide" ng-show="vm.showTimeSettings" >
        <time-range-selection loading="vm.loading" on-hide="vm.toggleTimeSettings()" on-filter="vm.OnFilter(date)"></time-range-selection>
    </div>
    <div class="row">
        <div class="panel-group">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        Views Health Score:
                        <a href="" class="faa-parent faa-slow animated-hover">
                            <i class="fa fa-gear faa-spin text-primary" ng-click="vm.showTimeSettings = !vm.showTimeSettings"></i>
                        </a>
                    </h4>
                </div>
                <div class="panel-collapse">
                    <div class="panel-body">
                        <div class="col-md-3 no-padding">
                            <d3-circle data="vm.FamilyData.scoreData" class="cn"></d3-circle>
                        </div>
                        <div class="col-md-4">
                            <div class="small">
                                <p>
                                    {{vm.FamilyData.description}}
                                </p>
                            </div>
                        </div>
                        <div class="col-md-5 no-padding">
                            <div id="menu">
                                <div class="panel list-group">
                                    <a href="" class="list-group-item" data-toggle="collapse" data-target="#sm" data-parent="#menu">
                                        Views not on Sheet
                                        <span ng-class="vm.FamilyData.viewsNotOnSheets <= 20
                                ? 'badge progress-bar-success'
                                : vm.FamilyData.viewsNotOnSheets >= 20 && vm.FamilyData.viewsNotOnSheets <= 40
                                    ? 'badge progress-bar-warning'
                                    : 'badge progress-bar-danger' ">{{vm.FamilyData.viewsNotOnSheets}} %</span>
                                    </a>
                                    <div id="sm" class="sublinks collapse">
                                        <div class="list-group-item small">
                                            Creating excessive amount of "working views" can bloat file size and slow down model performance. A score is assigned based on percentage of Views not on Sheets.
                                            Less than 20% is Green, more than 20% but less than 40% is Orange while more than 40% is Red.
                                        </div>
                                    </div>
                                    <a href="" class="list-group-item" data-toggle="collapse" data-target="#sl" data-parent="#menu">
                                        Schedules not on Sheet
                                        <span ng-class="vm.FamilyData.schedulesNotOnSheet <= 20
                                ? 'badge progress-bar-success'
                                : vm.FamilyData.schedulesNotOnSheet >= 20 && vm.FamilyData.schedulesNotOnSheet <= 40
                                    ? 'badge progress-bar-warning'
                                    : 'badge progress-bar-danger' ">{{vm.FamilyData.schedulesNotOnSheet}} %</span>
                                    </a>
                                    <div id="sl" class="sublinks collapse">
                                        <div class="list-group-item small">
                                            Schedules represent live model data, and are updated in real time. Excessive amount of unused Schedules can bloat file size and slow down model performance.
                                            A score is assigned based on percentage of Views not on Sheets. Less than 20% is Green, more than 20% but less than 40% is Orange while more than 40% is Red.
                                        </div>
                                    </div>
                                    <a href="" class="list-group-item" data-toggle="collapse" data-target="#s2" data-parent="#menu">
                                        Unclipped Views
                                        <span ng-class="vm.FamilyData.unclippedViews > 0
                                ? 'badge progress-bar-danger'
                                : 'badge progress-bar-success'">{{vm.FamilyData.unclippedViews}}</span>
                                    </a>
                                    <div id="s2" class="sublinks collapse">
                                        <div class="list-group-item small">
                                            Plan, Section, Elevation and 3D Views in Revit can be "clipped". This feature of Revit allows for limiting the amount of content that is rendered for each
                                            View, hence can increase performance when used. All Views should have Clipping Plane set to either "Clipped without Line" or "Clipped with Line".
                                        </div>
                                    </div>
                                    <a href="" class="list-group-item" data-toggle="collapse" data-target="#s3" data-parent="#menu">
                                        Views on Sheet w/ View Template
                                        <span ng-class="vm.FamilyData.viewsOnSheetWithTemplate < 70
                                ? 'badge progress-bar-danger'
                                : vm.FamilyData.viewsOnSheetWithTemplate > 70 && vm.FamilyData.viewsOnSheetWithTemplate < 80
                                    ? 'badge progress-bar-warning'
                                    : 'badge progress-bar-success'">{{vm.FamilyData.viewsOnSheetWithTemplate}} %</span>
                                    </a>
                                    <div id="s3" class="sublinks collapse">
                                        <div class="list-group-item small">
                                            It's considered a good practice to apply View Templates to all Views that are placed on Sheets. This ensures consistent graphics across all drawings.
                                            Less than 70% is red, more than 70% but less than 80% is orange while more than 80% is green.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-if="vm.d3ViewStatsData.viewStats.length >= 2">
        <div class="panel-group" id="p1">
            <div class="panel panel-default">
                <div class="panel-heading panel-heading-clickable" data-toggle="collapse" data-parent="#p1" data-target="#collapseP1">
                    <p class="pull-right textAlignMiddle"><span class="glyphicon glyphicon-stop" style="color: #FD8D3C"></span> Views on Sheet</p>
                    <p class="pull-right textAlignMiddle"><span class="glyphicon glyphicon-stop" style="color: #3182BD"></span> Total Views</p>
                    <h4 class="panel-title">Views / Views on Sheet</h4>
                </div>
                <div id="collapseP1" class="panel-collapse collapse in">
                    <div class="panel-body no-padding">
                        <d3-multi-series-line-brushed data="vm.d3ViewStatsData.viewStats" keys="vm.ViewKeys" reference-line="vm.d3GoalLine"></d3-multi-series-line-brushed>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-if="vm.d3ViewStatsData.viewStats.length >= 2">
        <div class="panel-group" id="p2">
            <div class="panel panel-default">
                <div class="panel-heading panel-heading-clickable" data-toggle="collapse" data-parent="#p2" data-target="#collapseP2">
                    <p class="pull-right textAlignMiddle"><span class="glyphicon glyphicon-stop" style="color: #FD8D3C"></span> Schedules on Sheet</p>
                    <p class="pull-right textAlignMiddle"><span class="glyphicon glyphicon-stop" style="color: #3182BD"></span> Total Schedules</p>
                    <h4 class="panel-title">Schedules / Schedules on Sheet</h4>
                </div>
                <div id="collapseP2" class="panel-collapse collapse in">
                    <div class="panel-body no-padding">
                        <d3-multi-series-line-brushed data="vm.d3ViewStatsData.viewStats" keys="vm.ScheduleKeys" reference-line="vm.d3GoalLine"></d3-multi-series-line-brushed>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>